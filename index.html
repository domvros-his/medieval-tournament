<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÏŒ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬: Î”ÏÏƒÎ· vs Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=EB+Garamond:wght@400;600;700&display=swap');
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        :root {
            --west-color: #2c3e50;
            --east-color: #8e44ad;
            --bg-overlay: rgba(244, 232, 211, 0.85);
            --text-color: #2c1a0b;
        }
        
        body {
            font-family: 'EB Garamond', serif;
            font-size: 1.1em;
            background-image: linear-gradient(var(--bg-overlay), var(--bg-overlay)), url('image1.png');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: var(--text-color);
            text-align: center;
            margin: 0;
            padding: 20px;
            padding-bottom: 80px; 
            user-select: none;
        }
        
        h1, h2, .menu-btn, .choice-btn, .match-term, .scoreboard, .btn-start, .next-btn {
            font-family: 'Cinzel', serif;
        }

        h1 { font-size: 2.8em; border-bottom: 3px solid #d35400; display: inline-block; padding-bottom: 10px; color: #5a2e0e; }
        
        /* --- ÎŸÎ¸ÏŒÎ½Î· Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ·Ï‚ & Î’Î¯Î½Ï„ÎµÎ¿ --- */
        #invitation-screen, #intro-screen { margin-top: 20px; }
        
        #invitation-img {
            max-width: 80%;
            max-height: 60vh;
            border: 6px solid #5a2e0e;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            margin-bottom: 30px;
            object-fit: contain;
        }

        #intro-video { 
            max-width: 80%; 
            max-height: 60vh; 
            border: 6px solid #5a2e0e; 
            border-radius: 10px; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.5); 
            margin-bottom: 30px;
            background-color: #000;
        }

        /* --- Î£ÎºÎ¿Ï --- */
        .scoreboard {
            display: flex; justify-content: space-around; font-size: 2em; margin-bottom: 30px;
            font-weight: bold; background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 15px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.2); border: 2px solid #d35400;
        }
        .score-west { color: var(--west-color); }
        .score-east { color: var(--east-color); }
        .points-btn { font-family: 'Cinzel', serif; font-size: 0.5em; cursor: pointer; padding: 5px 15px; margin-left: 10px; border: none; border-radius: 5px; }
        
        /* --- ÎšÎ¿Ï…Î¼Ï€Î¹Î¬ --- */
        .menu-btn {
            font-size: 1.5em; padding: 20px 40px; margin: 10px; cursor: pointer;
            background-color: #d35400; color: white; border: none; border-radius: 10px;
            box-shadow: 0 5px #a04000; transition: 0.2s; font-weight: 700;
        }
        .menu-btn:active { box-shadow: 0 0 #a04000; transform: translateY(5px); }
        .btn-gold { background-color: #f39c12; box-shadow: 0 5px #e67e22; color: #fff; }
        .btn-gold:active { box-shadow: 0 0 #e67e22; }
        .btn-start { background-color: #27ae60; box-shadow: 0 5px #1e8449; font-size: 1.8em; }
        .btn-start:active { box-shadow: 0 0 #1e8449; }
        
        /* --- Î ÎµÏÎ¹Î¿Ï‡Î® Î Î±Î¹Ï‡Î½Î¹Î´Î¹Î¿Ï --- */
        #game-area { margin-top: 30px; font-size: 1.6em; min-height: 400px; }
        .question-box { background: rgba(255, 255, 255, 0.95); padding: 25px; border-radius: 10px; margin-bottom: 30px; border: 3px solid #5a2e0e; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .question-box h2 { margin: 0; color: #2c1a0b; }
        
        .choice-btn {
            font-size: 1.2em; padding: 15px 30px; margin: 10px; cursor: pointer;
            border: 3px solid #ccc; background: rgba(255, 255, 255, 0.9); border-radius: 8px;
            display: inline-block; width: 40%; font-weight: 600; color: #333; transition: all 0.2s;
        }
        .choice-btn-full { width: 80%; display: block; margin: 10px auto; }
        .choice-btn:hover, .choice-btn-full:hover { background: #fff; border-color: #d35400; transform: scale(1.02); }
        
        /* --- Drag & Drop (Tap to match) --- */
        .match-container { display: flex; justify-content: space-around; flex-wrap: wrap; margin-top: 20px; }
        .match-term { 
            background: #2980b9; color: white; padding: 15px; border-radius: 8px; 
            cursor: pointer; margin: 10px; border: 3px solid transparent; width: 30%; font-size: 1.2em;
        }
        .match-term.selected { border-color: #f1c40f; transform: scale(1.05); background: #1f618d; }
        .match-def { 
            background: rgba(255, 255, 255, 0.9); border: 3px dashed #7f8c8d; padding: 20px; 
            border-radius: 8px; cursor: pointer; margin: 10px; width: 40%; font-size: 1.1em;
        }
        .match-def.filled { border-style: solid; background: #ecf0f1; border-color: #27ae60; }
        
        /* --- Utilities --- */
        .hidden { display: none !important; }
        .reset-btn { margin-top: 50px; background: #7f8c8d; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-family: 'Cinzel', serif;}
        .next-btn { margin-top: 30px; font-size: 1.3em; padding: 15px 30px; background: #2980b9; color: white; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 4px #1c5980;}
        .next-btn:active { box-shadow: 0 0 #1c5980; transform: translateY(4px); }
        
        /* --- Footer --- */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, rgba(244, 232, 211, 1) 15%, rgba(244, 232, 211, 0.8) 50%, transparent 100%);
            color: #5a2e0e; 
            padding: 30px 10px 10px 10px; 
            font-size: 1.1em;
            text-align: center;
            z-index: 1000;
            font-family: 'EB Garamond', serif;
            font-weight: 600;
            text-shadow: 1px 1px 3px rgba(255,255,255,0.8);
            pointer-events: none;
        }
    </style>
</head>
<body>

    <div id="invitation-screen">
        <h1>Î•Ï€Î¯ÏƒÎ·Î¼Î· Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ· ğŸ“œ</h1>
        <br>
        <img src="invitation.png" alt="Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ· ÏƒÏ„Î¿ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬" id="invitation-img">
        <br>
        <button class="menu-btn btn-start" onclick="acceptInvitation()">Î‘Ï€Î¿Î´Î¿Ï‡Î® Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ·Ï‚ â”</button>
    </div>

    <div id="intro-screen" class="hidden">
        <h1>ğŸ° ÎšÎ±Î»Ï‰ÏƒÎ¿ÏÎ¯ÏƒÎ±Ï„Îµ ÏƒÏ„Î¿ ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÏŒ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬ ğŸ‘‘</h1>
        <br>
        <video id="intro-video" controls>
            <source src="video.mp4" type="video/mp4">
            Î¤Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Ï€ÎµÏÎ¹Î®Î³Î·ÏƒÎ®Ï‚ ÏƒÎ±Ï‚ Î´ÎµÎ½ Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ Ï„Î·Î½ Î±Î½Î±Ï€Î±ÏÎ±Î³Ï‰Î³Î® Î²Î¯Î½Ï„ÎµÎ¿.
        </video>
        <br>
        <button class="menu-btn btn-start" onclick="enterTournament()">Î•Î¯ÏƒÎ¿Î´Î¿Ï‚ ÏƒÏ„Î¿ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬ â”</button>
    </div>

    <div id="main-game" class="hidden">
        <h1>ğŸ° ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÏŒ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬ Î“Î½ÏÏƒÎµÏ‰Î½ ğŸ‘‘</h1>

        <div class="scoreboard">
            <div class="score-west">
                ğŸ›¡ï¸ Î™Ï€Ï€ÏŒÏ„ÎµÏ‚ (Î”ÏÏƒÎ·): <span id="scoreW">0</span>
                <br>
                <button class="points-btn" style="background:#2c3e50; color:white;" onclick="addScore('W', 10)">+10</button>
                <button class="points-btn" style="background:#e74c3c; color:white;" onclick="addScore('W', -10)">-10</button>
            </div>
            <div class="score-east">
                ğŸ¦… Î†ÏÏ‡Î¿Î½Ï„ÎµÏ‚ (Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿): <span id="scoreE">0</span>
                <br>
                <button class="points-btn" style="background:#8e44ad; color:white;" onclick="addScore('E', 10)">+10</button>
                <button class="points-btn" style="background:#e74c3c; color:white;" onclick="addScore('E', -10)">-10</button>
            </div>
        </div>

        <div id="main-menu">
            <button class="menu-btn" onclick="startJousting()">âš”ï¸ ÎšÎ¿Î½Ï„Î±ÏÎ¿Î¼Î±Ï‡Î¯Î±</button>
            <button class="menu-btn" onclick="startWisdom()">ğŸ“œ Î”Î¿ÎºÎ¹Î¼Î±ÏƒÎ¯Î± Î£Î¿Ï†Î¿Ï</button>
            <button class="menu-btn" onclick="startBridge()">âš–ï¸ Î“Î­Ï†Ï…ÏÎ± (Î£Ï‰ÏƒÏ„ÏŒ/Î›Î¬Î¸Î¿Ï‚)</button>
            <button class="menu-btn" onclick="startMatching()">ğŸ”— Î›ÎµÎ¾Î¹ÎºÏŒ Î§ÏÏŒÎ½Î¿Ï…</button>
            <br><br>
            <button class="menu-btn btn-gold" onclick="startCeremony()">ğŸ† Î¤ÎµÎ»ÎµÏ„Î® Î‘Ï€Î¿Î½Î¿Î¼Î®Ï‚</button>
        </div>

        <div id="game-area" class="hidden"></div>

        <button class="reset-btn" style="pointer-events: auto;" onclick="resetScores()">ÎœÎ·Î´ÎµÎ½Î¹ÏƒÎ¼ÏŒÏ‚ Î£ÎºÎ¿Ï</button>
    </div>

    <footer>
        Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±: Î Î±Î½Î±Î³Î¹ÏÏ„Î·Ï‚ Î”ÏŒÎ¼Î²ÏÎ¿Ï‚, Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÏŒÏ‚ Î‘Î³Î³Î»Î¹ÎºÎ®Ï‚ Î“Î»ÏÏƒÏƒÎ±Ï‚ & Î˜ÎµÎ±Ï„ÏÎ¿Î»ÏŒÎ³Î¿Ï‚, Î”Î¹ÎµÏ…Î¸Ï…Î½Ï„Î®Ï‚ 1Î¿Ï… Î“Ï…Î¼Î½Î±ÏƒÎ¯Î¿Ï… Î Ï…Î»Î±Î¯Î±Ï‚
    </footer>

    <script>
        // --- ÎœÎµÏ„Î¬Î²Î±ÏƒÎ· Î±Ï€ÏŒ Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ· ÏƒÎµ Î’Î¯Î½Ï„ÎµÎ¿ ---
        function acceptInvitation() {
            document.getElementById('invitation-screen').classList.add('hidden');
            document.getElementById('intro-screen').classList.remove('hidden');
        }

        // --- ÎœÎµÏ„Î¬Î²Î±ÏƒÎ· Î±Ï€ÏŒ Î’Î¯Î½Ï„ÎµÎ¿ ÏƒÏ„Î¿ Î Î±Î¹Ï‡Î½Î¯Î´Î¹ ---
        function enterTournament() {
            const video = document.getElementById('intro-video');
            if(video) { video.pause(); }
            document.getElementById('intro-screen').classList.add('hidden');
            document.getElementById('main-game').classList.remove('hidden');
        }

        // --- Î£Î¥Î£Î¤Î—ÎœÎ‘ Î£ÎšÎŸÎ¡ (Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·) ---
        let scoreWest = localStorage.getItem('medievalScoreW') ? parseInt(localStorage.getItem('medievalScoreW')) : 0;
        let scoreEast = localStorage.getItem('medievalScoreE') ? parseInt(localStorage.getItem('medievalScoreE')) : 0;

        function updateScoreboard() {
            document.getElementById('scoreW').innerText = scoreWest;
            document.getElementById('scoreE').innerText = scoreEast;
            localStorage.setItem('medievalScoreW', scoreWest);
            localStorage.setItem('medievalScoreE', scoreEast);
        }

        function addScore(team, points) {
            if(team === 'W') scoreWest += points;
            if(team === 'E') scoreEast += points;
            updateScoreboard();
        }

        function resetScores() {
            if(confirm("Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î¼Î·Î´ÎµÎ½Î¯ÏƒÎµÏ„Îµ Ï„Î± ÏƒÎºÎ¿Ï;")) {
                scoreWest = 0; scoreEast = 0;
                updateScoreboard();
            }
        }
        updateScoreboard();

        const gameArea = document.getElementById('game-area');
        const mainMenu = document.getElementById('main-menu');

        function showMenu() {
            gameArea.innerHTML = '';
            gameArea.classList.add('hidden');
            mainMenu.classList.remove('hidden');
        }

        // --- Î”ÎŸÎšÎ™ÎœÎ‘Î£Î™Î‘ 1: ÎšÎŸÎÎ¤Î‘Î¡ÎŸÎœÎ‘Î§Î™Î‘ ---
        const joustingQuestions = [
            { q: "Î— Ï€Î±Î¹Î´Î¹ÎºÎ® ÎµÏÎ³Î±ÏƒÎ¯Î± ÏƒÏ„Î± Ï‡Ï‰ÏÎ¬Ï†Î¹Î± Î¾ÎµÎºÎ¹Î½Î¿ÏÏƒÎµ Î±Ï€ÏŒ Ï„Î·Î½ Î±Î½Î±Ï„Î¿Î»Î® Ï‰Ï‚ Ï„Î· Î´ÏÏƒÎ·;", a: "Î”ÏÏƒÎ·" },
            { q: "Î”Î¹Î­Î¸ÎµÏ„Î±Î½ Î¿ÏÎ³Î±Î½Ï‰Î¼Î­Î½Î± ÎºÏÎ±Ï„Î¹ÎºÎ¬ Î½Î¿ÏƒÎ¿ÎºÎ¿Î¼ÎµÎ¯Î± ÏƒÎµ ÎºÎ¬Î¸Îµ Ï€ÏŒÎ»Î·;", a: "Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" },
            { q: "Î•ÎºÎµÎ¯ Î³ÎµÎ½Î½Î®Î¸Î·ÎºÎµ Î¿ 'Î™Ï€Ï€Î¿Ï„Î¹ÎºÏŒÏ‚ ÎˆÏÏ‰Ï„Î±Ï‚';", a: "Î”ÏÏƒÎ·" },
            { q: "Î— ÎµÎºÏ€Î±Î¯Î´ÎµÏ…ÏƒÎ· Î®Ï„Î±Î½ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î¿ Î¼ÏŒÎ½Î¿ Ï„Ï‰Î½ Î»Î¯Î³Ï‰Î½ (Î¼Î¿Î½Î±ÏƒÏ„Î®ÏÎ¹Î± Î® ÎµÎ»Î¯Ï„);", a: "Î”ÏÏƒÎ·" },
            { q: "Î•Î¯Ï‡Î±Î½ Î»Î±Ï„ÏÎµÎ¯Î± Î³Î¹Î± Ï„Î¿ Î¼Î±ÎºÎ¹Î³Î¹Î¬Î¶, Ï„Î± ÎºÎ¿ÏƒÎ¼Î®Î¼Î±Ï„Î± ÎºÎ±Î¹ Ï„Î± Î¼ÎµÏ„Î±Î¾Ï‰Ï„Î¬;", a: "Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" },
            { q: "ÎŸÎ¹ Ï†Ï„Ï‰Ï‡Î¿Î¯ Î¶Î¿ÏÏƒÎ±Î½ ÏƒÏ…Ï‡Î½Î¬ ÏƒÎµ ÏƒÏ€Î¯Ï„Î¹Î± Î¼Îµ Ï„Î¿Î½ ÏƒÏ„Î¬Î²Î»Î¿ ÏƒÏ„Î¿ Î¹ÏƒÏŒÎ³ÎµÎ¹Î¿;", a: "Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" },
            { q: "ÎŸÎ¹ Ï€ÏÎ¿ÏƒÎºÏ…Î½Î·Ï„Î­Ï‚ Ï„Î±Î¾Î¯Î´ÎµÏ…Î±Î½ ÏƒÏ„Î¿ Î£Î±Î½Ï„Î¹Î¬Î³Î¿ Î½Ï„Îµ ÎšÎ¿Î¼Ï€Î¿ÏƒÏ„Î­Î»Î±;", a: "Î”ÏÏƒÎ·" }
        ];
        let currentJQuestion = 0;

        function startJousting() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            currentJQuestion = 0;
            renderJoustingQuestion();
        }

        function renderJoustingQuestion() {
            if(currentJQuestion >= joustingQuestions.length) {
                gameArea.innerHTML = `<h2>Î¤Î­Î»Î¿Ï‚ Î”Î¿ÎºÎ¹Î¼Î±ÏƒÎ¯Î±Ï‚!</h2><button class="menu-btn" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>`;
                return;
            }
            let q = joustingQuestions[currentJQuestion];
            gameArea.innerHTML = `
                <div class="question-box"><h2>${q.q}</h2></div>
                <div style="display:flex; justify-content:center; gap:20px;">
                    <button class="choice-btn" style="border-color:var(--west-color); color:var(--west-color);" onclick="checkJousting('Î”ÏÏƒÎ·')">ğŸ›¡ï¸ ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÎ® Î•Ï…ÏÏÏ€Î·</button>
                    <button class="choice-btn" style="border-color:var(--east-color); color:var(--east-color);" onclick="checkJousting('Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿')">ğŸ¦… Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿</button>
                </div>
                <p><em>(Î— Î¿Î¼Î¬Î´Î± Ï€Î¿Ï… Î¸Î± Ï€Î±Ï„Î®ÏƒÎµÎ¹ Ï€ÏÏÏ„Î· Ï„Î¿ ÏƒÏ‰ÏƒÏ„ÏŒ Ï€Î±Î¯ÏÎ½ÎµÎ¹ Ï€ÏŒÎ½Ï„Î¿Ï…Ï‚!)</em></p>
                <button class="next-btn" onclick="currentJQuestion++; renderJoustingQuestion()">Î•Ï€ÏŒÎ¼ÎµÎ½Î· Î•ÏÏÏ„Î·ÏƒÎ· â”</button>
            `;
        }

        function checkJousting(ans) {
            let correct = joustingQuestions[currentJQuestion].a;
            if(ans === correct) { alert("Î£Ï‰ÏƒÏ„Î¬! +10 Ï€ÏŒÎ½Ï„Î¿Î¹ ÏƒÏ„Î·Î½ Î¿Î¼Î¬Î´Î± Ï€Î¿Ï… Î±Ï€Î¬Î½Ï„Î·ÏƒÎµ."); } 
            else { alert("Î›Î¬Î¸Î¿Ï‚! Î‰Ï„Î±Î½: " + correct); }
            currentJQuestion++; renderJoustingQuestion();
        }

        // --- Î”ÎŸÎšÎ™ÎœÎ‘Î£Î™Î‘ 2: Î£ÎŸÎ¦ÎŸÎ£ (Î Î¿Î»Î»Î±Ï€Î»Î®Ï‚ Î•Ï€Î¹Î»Î¿Î³Î®Ï‚) ---
        const wisdomQuestions = [
            { q: "Î ÏÏ‚ Î®Ï„Î±Î½ Ï„Î¿ ÏƒÏ€Î¯Ï„Î¹ ÎµÎ½ÏŒÏ‚ Ï†Ï„Ï‰Ï‡Î¿Ï Ï‡Ï‰ÏÎ¹ÎºÎ¿Ï ÏƒÏ„Î·Î½ Î•Ï…ÏÏÏ€Î·;", opts: ["ÎˆÎ½Î± Î´Ï‰Î¼Î¬Ï„Î¹Î¿ Î±Ï€ÏŒ Î»Î¬ÏƒÏ€Î· ÎºÎ±Î¹ Î¬Ï‡Ï…ÏÎ±", "Î”Î¹ÏÏÎ¿Ï†Î¿ Î¼Îµ ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ® Î±Ï…Î»Î®", "Î Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î± Î¼Îµ ÎºÎ¿Î¹Î½ÏŒÏ‡ÏÎ·ÏƒÏ„Î¿ Î»Î¿Ï…Ï„ÏÏŒ"], correct: 0 },
            { q: "Î¤Î¹ Î¼Î±Î¸Î®Î¼Î±Ï„Î± Î´Î¹Î´Î¬ÏƒÎºÎ¿Î½Ï„Î±Î½ ÏƒÏ„Î± ÏƒÏ‡Î¿Î»ÎµÎ¯Î± Ï„Î¿Ï… Î’Ï…Î¶Î±Î½Ï„Î¯Î¿Ï…;", opts: ["ÎœÏŒÎ½Î¿ Î¸ÏÎ·ÏƒÎºÎµÏ…Ï„Î¹ÎºÎ¬ ÎºÎ±Î¹ Î±Î½Î¬Î³Î½Ï‰ÏƒÎ·", "ÎŒÎ¼Î·ÏÎ¿Ï‚, ÎœÎ±Î¸Î·Î¼Î±Ï„Î¹ÎºÎ¬, Î‘ÏƒÏ„ÏÎ¿Î½Î¿Î¼Î¯Î±", "ÎÎ¹Ï†Î±ÏƒÎºÎ¯Î± ÎºÎ±Î¹ Î¹Ï€Ï€Î±ÏƒÎ¯Î±"], correct: 1 },
            { q: "Î Î¿Î¹Î¿ Î®Ï„Î±Î½ Ï„Î¿ ÏƒÏÎ¼Î²Î¿Î»Î¿ Ï€Î»Î¿ÏÏ„Î¿Ï… ÎºÎ±Î¹ ÎºÏÏÎ¿Ï…Ï‚ ÏƒÏ„Î¿ Î½Ï„ÏÏƒÎ¹Î¼Î¿ Ï„Î·Ï‚ Î”ÏÏƒÎ·Ï‚;", opts: ["Î¤Î± Ï€Î¿Î»Î»Î¬ Î´Î±Ï‡Ï„Ï…Î»Î¯Î´Î¹Î±", "Î¤Î¿ Î­Î½Ï„Î¿Î½Î¿ Î¼Î±ÎºÎ¹Î³Î¹Î¬Î¶", "Î— Î³Î¿ÏÎ½Î± ÎºÎ±Î¹ Ï„Î¿ Î¼Î®ÎºÎ¿Ï‚ Ï„Î¿Ï… ÏÎ¿ÏÏ‡Î¿Ï…"], correct: 2 },
            { q: "Î Î¿Î¹Î¿Ï‚ Î®Ï„Î±Î½ Î¿ ÏÏŒÎ»Î¿Ï‚ Ï„Î·Ï‚ Î³Ï…Î½Î±Î¯ÎºÎ±Ï‚ ÏƒÏ„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿;", opts: ["Î”ÎµÎ½ Î­Î²Î³Î±Î¹Î½Îµ Ï€Î¿Ï„Î­ Î±Ï€ÏŒ Ï„Î¿ ÏƒÏ€Î¯Ï„Î¹", "ÎšÎ¬Î»Ï…Ï€Ï„Îµ Ï„Î¿ Ï€ÏÏŒÏƒÏ‰Ï€Î¿ Î­Î¾Ï‰, Î±Î»Î»Î¬ ÏƒÏ…Ï‡Î½Î¬ ÎºÏ…ÏÎ¹Î±ÏÏ‡Î¿ÏÏƒÎµ Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ ÏƒÏ€Î¯Ï„Î¹", "Î”Î¹Î¿Î¹ÎºÎ¿ÏÏƒÎµ Ï„Î¿Î½ ÏƒÏ„ÏÎ±Ï„ÏŒ ÏƒÎµ ÏÏÎ± Ï€Î¿Î»Î­Î¼Î¿Ï…"], correct: 1 },
            { q: "Î Î¿Î¹Î± Î®Ï„Î±Î½ Î· Î²Î¬ÏƒÎ· Ï„Î·Ï‚ Î´Î¹Î±Ï„ÏÎ¿Ï†Î®Ï‚ ÏƒÏ„Î· ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÎ® Î•Ï…ÏÏÏ€Î·;", opts: ["Î¨Ï‰Î¼Î¯ ÎºÎ±Î¹ ÎºÏÎ±ÏƒÎ¯", "ÎŸÏÎµÎºÏ„Î¹ÎºÎ¬ ÎºÎ±Î¹ ÏˆÎ¬ÏÎ¹Î±", "Î¡ÏÎ¶Î¹ ÎºÎ±Î¹ Î¼Ï€Î±Ï‡Î±ÏÎ¹ÎºÎ¬"], correct: 0 }
        ];
        let currentWQuestion = 0;

        function startWisdom() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            currentWQuestion = 0;
            renderWisdomQuestion();
        }

        function renderWisdomQuestion() {
            if(currentWQuestion >= wisdomQuestions.length) {
                gameArea.innerHTML = `<h2>Î¤Î­Î»Î¿Ï‚ Î”Î¿ÎºÎ¹Î¼Î±ÏƒÎ¯Î±Ï‚!</h2><button class="menu-btn" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>`;
                return;
            }
            let q = wisdomQuestions[currentWQuestion];
            let optionsHTML = '';
            q.opts.forEach((opt, index) => {
                optionsHTML += `<button class="choice-btn choice-btn-full" onclick="checkWisdom(${index})">${opt}</button>`;
            });

            gameArea.innerHTML = `
                <div class="question-box"><h2>${q.q}</h2></div>
                ${optionsHTML}
                <button class="next-btn" onclick="currentWQuestion++; renderWisdomQuestion()">Î•Ï€ÏŒÎ¼ÎµÎ½Î· Î•ÏÏÏ„Î·ÏƒÎ· â”</button>
            `;
        }

        function checkWisdom(selectedIndex) {
            let correctIndex = wisdomQuestions[currentWQuestion].correct;
            if(selectedIndex === correctIndex) { alert("Î‘Ï€Î¿Î»ÏÏ„Ï‰Ï‚ Î£Ï‰ÏƒÏ„ÏŒ!"); } 
            else { alert("Î›Î¬Î¸Î¿Ï‚! Î— ÏƒÏ‰ÏƒÏ„Î® Î±Ï€Î¬Î½Ï„Î·ÏƒÎ· Î®Ï„Î±Î½: " + wisdomQuestions[currentWQuestion].opts[correctIndex]); }
            currentWQuestion++; renderWisdomQuestion();
        }

        // --- Î”ÎŸÎšÎ™ÎœÎ‘Î£Î™Î‘ 3: Î“Î•Î¦Î¥Î¡Î‘ (Î£Ï‰ÏƒÏ„ÏŒ/Î›Î¬Î¸Î¿Ï‚) ---
        const bridgeQuestions = [
            { q: "Î£Ï„Î· Î”ÏÏƒÎ·, Î¿ ÏƒÏÎ¶Ï…Î³Î¿Ï‚ Î¸ÎµÏ‰ÏÎ¿ÏÏƒÎµ Ï„Î· Î³Ï…Î½Î±Î¯ÎºÎ± ÎºÎ±Ï„ÏÏ„ÎµÏÎ· ÎºÎ±Î¹ ÎµÎ¯Ï‡Îµ Î´Î¹ÎºÎ±Î¯Ï‰Î¼Î± ÏƒÏ‰Î¼Î±Ï„Î¹ÎºÎ®Ï‚ Ï„Î¹Î¼Ï‰ÏÎ¯Î±Ï‚.", a: true, expl: "Î— Î³Ï…Î½Î±Î¯ÎºÎ± Î¸ÎµÏ‰ÏÎ¿ÏÎ½Ï„Î±Î½ ÎºÎ±Ï„ÏÏ„ÎµÏÎ·." },
            { q: "Î¤Î± Ï€Î­Ï„ÏÎ¹Î½Î± ÎºÎ¬ÏƒÏ„ÏÎ± Ï„Î·Ï‚ Î”ÏÏƒÎ·Ï‚ Î®Ï„Î±Î½ Î¶ÎµÏƒÏ„Î¬ ÎºÎ±Î¹ Ï€Î¿Î»Ï Î¬Î½ÎµÏ„Î± Ï„Î¿Î½ Ï‡ÎµÎ¹Î¼ÏÎ½Î±.", a: false, expl: "Î‰Ï„Î±Î½ Î±ÏƒÏ†Î±Î»Î® ÎºÎ±Î¹ ÏƒÏÎ¼Î²Î¿Î»Î± Î³Î¿Î®Ï„ÏÎ¿Ï…, Î±Î»Î»Î¬ Ï€Î¿Î»Ï ÎºÏÏÎ±." },
            { q: "Î£Ï„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿ Ï…Ï€Î®ÏÏ‡Î±Î½ ÎºÎ±Î¹ Î´Ï‰ÏÎµÎ¬Î½ ÏƒÏ‡Î¿Î»ÎµÎ¯Î± Î³Î¹Î± Ï„Î± Î¿ÏÏ†Î±Î½Î¬.", a: true, expl: "Î Î±ÏÏŒÏ„Î¹ Ï…Ï€Î®ÏÏ‡Î±Î½ Î´Î¯Î´Î±ÎºÏ„ÏÎ±, Ï…Ï€Î®ÏÏ‡Îµ ÎºÎ±Î¹ Î¼Î­ÏÎ¹Î¼Î½Î± Î³Î¹Î± Ï„Î± Î¿ÏÏ†Î±Î½Î¬." },
            { q: "ÎšÎ±Î¹ ÏƒÏ„Î¿Ï…Ï‚ Î´ÏÎ¿ ÎºÏŒÏƒÎ¼Î¿Ï…Ï‚, Î¿Î¹ Î³Ï…Î½Î±Î¯ÎºÎµÏ‚ ÎµÎ¯Ï‡Î±Î½ Î±ÎºÏÎ¹Î²ÏÏ‚ Ï„Î± Î¯Î´Î¹Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Î¼Îµ Ï„Î¿Ï…Ï‚ Î¬Î½Î´ÏÎµÏ‚.", a: false, expl: "ÎŸÎ¹ Î³Ï…Î½Î±Î¯ÎºÎµÏ‚ ÎµÎ¯Ï‡Î±Î½ Ï€ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Ï…Ï€ÏŒ Î±Î½Î´ÏÎ¹ÎºÎ® ÎºÏ…ÏÎ¹Î±ÏÏ‡Î¯Î± ÎºÎ±Î¹ ÏƒÏ„Î¹Ï‚ Î´ÏÎ¿ ÎºÎ¿Î¹Î½Ï‰Î½Î¯ÎµÏ‚." },
            { q: "Î— Î¼Î±Î³ÎµÎ¯Î± ÎºÎ±Î¹ Î· Î´ÎµÎ¹ÏƒÎ¹Î´Î±Î¹Î¼Î¿Î½Î¯Î± ÎµÎ¯Ï‡Î±Î½ ÎµÎ¾Î±Ï†Î±Î½Î¹ÏƒÏ„ÎµÎ¯ Ï€Î»Î®ÏÏ‰Ï‚ ÏƒÏ„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿ Ï‡Î¬ÏÎ· ÏƒÏ„Î¿Ï…Ï‚ Î³Î¹Î±Ï„ÏÎ¿ÏÏ‚.", a: false, expl: "Î Î±ÏÎ¬ Ï„Î·Î½ ÎµÏ€Î¹ÏƒÏ„Î®Î¼Î·, Î· Î¼Î±Î³ÎµÎ¯Î± Ï€Î±ÏÎ­Î¼ÎµÎ½Îµ Î´Î·Î¼Î¿Ï†Î¹Î»Î®Ï‚." }
        ];
        let currentBQuestion = 0;

        function startBridge() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            currentBQuestion = 0;
            renderBridgeQuestion();
        }

        function renderBridgeQuestion() {
            if(currentBQuestion >= bridgeQuestions.length) {
                gameArea.innerHTML = `<h2>Î¤Î­Î»Î¿Ï‚ Î”Î¿ÎºÎ¹Î¼Î±ÏƒÎ¯Î±Ï‚!</h2><button class="menu-btn" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>`;
                return;
            }
            let q = bridgeQuestions[currentBQuestion];
            gameArea.innerHTML = `
                <div class="question-box"><h2>${q.q}</h2></div>
                <div style="display:flex; justify-content:center; gap: 20px;">
                    <button class="choice-btn" style="background:#2ecc71; color:white; border-color:#27ae60;" onclick="checkBridge(true)">Î£Î©Î£Î¤ÎŸ</button>
                    <button class="choice-btn" style="background:#e74c3c; color:white; border-color:#c0392b;" onclick="checkBridge(false)">Î›Î‘Î˜ÎŸÎ£</button>
                </div>
                <button class="next-btn" onclick="currentBQuestion++; renderBridgeQuestion()">Î•Ï€ÏŒÎ¼ÎµÎ½Î· Î•ÏÏÏ„Î·ÏƒÎ· â”</button>
            `;
        }

        function checkBridge(ans) {
            let correct = bridgeQuestions[currentBQuestion].a;
            let expl = bridgeQuestions[currentBQuestion].expl;
            if(ans === correct) { alert("Î£Ï‰ÏƒÏ„Î¬! " + expl); } 
            else { alert("Î›Î¬Î¸Î¿Ï‚! " + expl); }
            currentBQuestion++; renderBridgeQuestion();
        }

        // --- Î”ÎŸÎšÎ™ÎœÎ‘Î£Î™Î‘ 4: Î¤Î‘Î™Î¡Î™Î‘Î£ÎœÎ‘ ---
        let selectedTerm = null;
        let matchesMade = 0;
        
        function startMatching() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            matchesMade = 0; selectedTerm = null;
            
            gameArea.innerHTML = `
                <div class="question-box">
                    <h2>ÎŸÎ´Î·Î³Î¯ÎµÏ‚:</h2>
                    <p style="font-family: 'EB Garamond', serif;">Î‘Î³Î³Î¯Î¾Ï„Îµ Î­Î½Î±Î½ Î¼Ï€Î»Îµ ÏŒÏÎ¿ ÎºÎ±Î¹ Î¼ÎµÏ„Î¬ Î±Î³Î³Î¯Î¾Ï„Îµ Ï„Î¿ ÏƒÏ‰ÏƒÏ„ÏŒ ÎºÎ¿Ï…Ï„Î¯ Î³Î¹Î± Î½Î± Ï„Î¿Î½ Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®ÏƒÎµÏ„Îµ.</p>
                </div>
                <div class="match-container" id="terms-container">
                    <div class="match-term" onclick="selectTerm(this, 'Î£Ï…Î½Ï„ÎµÏ‡Î½Î¯ÎµÏ‚')">Î£Ï…Î½Ï„ÎµÏ‡Î½Î¯ÎµÏ‚</div>
                    <div class="match-term" onclick="selectTerm(this, 'Î§Î¿Î¹ÏÎ¿ÏƒÏ†Î¬Î³Î¹Î±')">Î§Î¿Î¹ÏÎ¿ÏƒÏ†Î¬Î³Î¹Î±</div>
                    <div class="match-term" onclick="selectTerm(this, 'Î™Ï€Ï€ÏŒÎ´ÏÎ¿Î¼Î¿Ï‚')">Î™Ï€Ï€ÏŒÎ´ÏÎ¿Î¼Î¿Ï‚</div>
                </div>
                <div class="match-container" id="defs-container">
                    <div class="match-def" onclick="placeTerm(this, 'Î£Ï…Î½Ï„ÎµÏ‡Î½Î¯ÎµÏ‚')">Î•Î½ÏÏƒÎµÎ¹Ï‚ ÎµÏ€Î±Î³Î³ÎµÎ»Î¼Î±Ï„Î¹ÏÎ½ (Î­Î¼Ï€Î¿ÏÎ¿Î¹, Ï„ÎµÏ‡Î½Î¯Ï„ÎµÏ‚).</div>
                    <div class="match-def" onclick="placeTerm(this, 'Î™Ï€Ï€ÏŒÎ´ÏÎ¿Î¼Î¿Ï‚')">ÎšÎ­Î½Ï„ÏÎ¿ Î³Î¹Î± Î±ÏÎ¼Î±Ï„Î¿Î´ÏÎ¿Î¼Î¯ÎµÏ‚ ÎºÎ±Î¹ Ï„ÎµÎ»ÎµÏ„Î­Ï‚.</div>
                    <div class="match-def" onclick="placeTerm(this, 'Î§Î¿Î¹ÏÎ¿ÏƒÏ†Î¬Î³Î¹Î±')">Î•Î¾Î±ÏƒÏ†Î¬Î»Î¹Î¶Î±Î½ Ï„Î¿ ÎºÏÎ­Î±Ï‚ Ï„Î¿Ï… Ï‡ÎµÎ¹Î¼ÏÎ½Î± Ï„Î¿Î½ Î”ÎµÎºÎ­Î¼Î²ÏÎ¹Î¿.</div>
                </div>
                <button class="menu-btn" style="margin-top:30px;" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>
            `;
        }

        function selectTerm(element, term) {
            document.querySelectorAll('.match-term').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedTerm = { el: element, text: term };
        }

        function placeTerm(element, correctTerm) {
            if (!selectedTerm) return;
            if (selectedTerm.text === correctTerm) {
                element.innerHTML = `<strong style="font-family: 'Cinzel', serif;">${selectedTerm.text}</strong>: <br>` + element.innerHTML;
                element.classList.add('filled'); element.style.borderColor = "#27ae60";
                selectedTerm.el.style.display = "none"; selectedTerm = null; matchesMade++;
                if(matchesMade === 3) { setTimeout(() => alert("Î†ÏÎ¹ÏƒÏ„Î±! ÎœÎ¿Î¹ÏÎ¬ÏƒÏ„Îµ Ï„Î¿Ï…Ï‚ Ï€ÏŒÎ½Ï„Î¿Ï…Ï‚!"), 500); }
            } else {
                element.style.borderColor = "#e74c3c";
                setTimeout(() => element.style.borderColor = "#7f8c8d", 1000);
                alert("Î›Î¬Î¸Î¿Ï‚ Ï„Î±Î¯ÏÎ¹Î±ÏƒÎ¼Î±! Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬.");
            }
        }

        // --- Î¤Î•Î›Î•Î¤Î— Î‘Î ÎŸÎÎŸÎœÎ—Î£ ---
        function startCeremony() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            
            let winnerText = "";
            let borderColor = "";
            let textColor = "";

            if (scoreWest > scoreEast) {
                winnerText = "ğŸ›¡ï¸<br>ÎÎ¹ÎºÎ·Ï„Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿Î¹ Î™Ï€Ï€ÏŒÏ„ÎµÏ‚ Ï„Î·Ï‚ Î”ÏÏƒÎ·Ï‚!";
                borderColor = "var(--west-color)";
                textColor = "var(--west-color)";
            } else if (scoreEast > scoreWest) {
                winnerText = "ğŸ¦…<br>ÎÎ¹ÎºÎ·Ï„Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿Î¹ Î†ÏÏ‡Î¿Î½Ï„ÎµÏ‚ Ï„Î¿Ï… Î’Ï…Î¶Î±Î½Ï„Î¯Î¿Ï…!";
                borderColor = "var(--east-color)";
                textColor = "var(--east-color)";
            } else {
                winnerText = "ğŸ¤<br>Î™ÏƒÎ¿Ï€Î±Î»Î¯Î±!<br>ÎšÎ±Î¹ Î¿Î¹ Î´ÏÎ¿ ÎºÏŒÏƒÎ¼Î¿Î¹ ÎµÏ€Î¹ÎºÏÎ¬Ï„Î·ÏƒÎ±Î½!";
                borderColor = "#f39c12";
                textColor = "#333";
            }

            gameArea.innerHTML = `
                <div class="question-box" style="border: 5px solid ${borderColor}; padding: 40px; background: rgba(255,255,255,0.95);">
                    <h1 style="color: ${textColor}; font-size: 2.8em; border: none; line-height: 1.2;">${winnerText}</h1>
                    <h2 style="color: #7f8c8d; margin-top: 20px;">Î¤ÎµÎ»Î¹ÎºÏŒ Î£ÎºÎ¿Ï</h2>
                    <p style="font-size: 1.8em; font-weight: bold; font-family: 'Cinzel', serif;">
                        <span style="color: var(--west-color);">Î”ÏÏƒÎ·: ${scoreWest}</span> 
                        &nbsp;&nbsp;|&nbsp;&nbsp; 
                        <span style="color: var(--east-color);">Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿: ${scoreEast}</span>
                    </p>
                </div>
                <button class="menu-btn" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>
            `;

            let duration = 4 * 1000;
            let end = Date.now() + duration;

            (function frame() {
                confetti({ particleCount: 7, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#2c3e50', '#f1c40f', '#e74c3c'] });
                confetti({ particleCount: 7, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#8e44ad', '#f1c40f', '#3498db'] });
                if (Date.now() < end) { requestAnimationFrame(frame); }
            }());
        }
    </script>
</body>
</html>