<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÏŒ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬: Î”ÏÏƒÎ· vs Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700;900&family=EB+Garamond:wght@400;600;700&display=swap');
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        :root {
            --west-color: #2c3e50;
            --east-color: #8e44ad;
            --bg-overlay: rgba(162, 175, 185, 0.85); 
            --box-bg: rgba(176, 165, 147, 0.95); 
            --text-color: #1a1105; 
        }
        
        body {
            font-family: 'EB Garamond', serif;
            font-size: 1.1em;
            background-image: linear-gradient(var(--bg-overlay), var(--bg-overlay)), url('image1.png');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: var(--text-color);
            text-align: center;
            margin: 0;
            padding: 5px;
            padding-bottom: 55px; 
            user-select: none;
        }
        
        h1, h2, h3, .menu-btn, .choice-btn, .match-term, .scoreboard, .btn-start, .next-btn {
            font-family: 'Cinzel', serif;
        }

        h1 { font-size: 2em; border-bottom: 3px solid #7a4621; display: inline-block; padding-bottom: 5px; margin: 5px 0; color: #3e1f08; }
        
        /* --- Flashing Gold Animation --- */
        @keyframes flashGold {
            0% { opacity: 1; text-shadow: 0 0 10px #f1c40f, 0 0 20px #e67e22, 1px 1px 4px #000; }
            50% { opacity: 0.6; text-shadow: 1px 1px 3px #000; }
            100% { opacity: 1; text-shadow: 0 0 10px #f1c40f, 0 0 20px #e67e22, 1px 1px 4px #000; }
        }
        .flashing-gold {
            color: #f1c40f; 
            animation: flashGold 1.5s infinite;
            font-weight: bold;
            letter-spacing: 1px;
            display: inline-block;
            margin: 0;
        }

        /* --- ÎŸÎ¸ÏŒÎ½Î· Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ·Ï‚ & Î’Î¯Î½Ï„ÎµÎ¿ --- */
        #invitation-screen, #intro-screen { margin-top: 5px; }
        
        #invitation-img {
            max-width: 80%;
            max-height: 45vh;
            border: 4px solid #3e1f08;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            margin-bottom: 10px;
            object-fit: contain;
        }

        #intro-video { 
            max-width: 80%; 
            max-height: 45vh; 
            border: 4px solid #3e1f08; 
            border-radius: 10px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.5); 
            margin-bottom: 10px;
            background-color: #000;
        }

        /* --- Î£ÎºÎ¿Ï --- */
        .scoreboard {
            display: flex; justify-content: space-around; font-size: 1.4em; margin-bottom: 10px;
            font-weight: bold; background: var(--box-bg); padding: 8px; border-radius: 10px; 
            box-shadow: 0 3px 8px rgba(0,0,0,0.3); border: 2px solid #4a2e1b;
        }
        .score-west { color: var(--west-color); }
        .score-east { color: #5a2673; } 
        .points-btn { font-family: 'Cinzel', serif; font-size: 0.6em; cursor: pointer; padding: 2px 8px; margin-left: 5px; border: none; border-radius: 5px; }
        
        /* --- ÎšÎ¿Ï…Î¼Ï€Î¹Î¬ --- */
        .menu-btn {
            font-size: 1.2em; padding: 10px 20px; margin: 4px; cursor: pointer;
            background-color: #a04000; color: white; border: none; border-radius: 8px;
            box-shadow: 0 3px #783000; transition: 0.2s; font-weight: 700;
        }
        .menu-btn:active { box-shadow: 0 0 #783000; transform: translateY(3px); }
        .btn-gold { background-color: #d68910; box-shadow: 0 3px #a04000; color: #fff; }
        .btn-gold:active { box-shadow: 0 0 #a04000; }
        .btn-start { background-color: #1e8449; box-shadow: 0 3px #145a32; font-size: 1.4em; }
        .btn-start:active { box-shadow: 0 0 #145a32; }
        
        /* --- Î ÎµÏÎ¹Î¿Ï‡Î® Î Î±Î¹Ï‡Î½Î¹Î´Î¹Î¿Ï --- */
        #game-area { margin-top: 10px; font-size: 1.3em; }
        .question-box { background: var(--box-bg); padding: 8px 12px; border-radius: 8px; margin-bottom: 8px; border: 2px solid #4a2e1b; box-shadow: 0 3px 6px rgba(0,0,0,0.2); }
        .question-box h2 { margin: 0; color: #1a1105; font-size: 1.1em; text-shadow: 1px 1px 1px rgba(255,255,255,0.2); }
        .question-box p { margin: 2px 0 0 0; font-size: 0.9em; }
        
        .choice-btn {
            font-size: 1em; padding: 6px 12px; margin: 4px; cursor: pointer;
            border: 2px solid #5a4231; background: #c2b5a3; border-radius: 6px; 
            display: inline-block; width: 45%; font-weight: 600; color: #1a1105; transition: all 0.2s;
        }
        .choice-btn-full { width: 80%; display: block; margin: 4px auto; }
        .choice-btn:hover, .choice-btn-full:hover { background: #d0c5b5; border-color: #a04000; transform: scale(1.02); }
        
        /* --- ÎšÎ¿Ï…Î¼Ï€Î¹Î¬-Î±ÏƒÏ€Î¯Î´ÎµÏ‚ --- */
        .shield-btn {
            width: 140px; 
            height: auto;
            margin: 0 5px;
            cursor: pointer;
            transition: transform 0.2s ease-in-out, filter 0.2s;
            filter: drop-shadow(0 4px 4px rgba(0,0,0,0.4));
        }
        
        .shield-btn:hover {
            transform: scale(1.1) rotate(3deg);
            filter: drop-shadow(0 6px 6px rgba(0,0,0,0.5));
        }
        
        .shield-btn:active {
            transform: scale(0.95);
        }
        
        @media (max-width: 600px) {
            .shield-btn {
                width: 100px;
                margin: 0 2px;
            }
            .scoreboard { font-size: 1.1em; padding: 6px; }
            h1 { font-size: 1.6em; }
        }
        
        /* --- Drag & Drop (Tap to match) --- */
        .match-container { display: flex; justify-content: space-around; flex-wrap: wrap; margin-top: 5px; }
        .match-term { 
            background: #21618c; color: white; padding: 6px; border-radius: 6px; 
            cursor: pointer; margin: 4px; border: 2px solid transparent; width: 30%; font-size: 1em;
        }
        .match-term.selected { border-color: #f1c40f; transform: scale(1.05); background: #154360; }
        .match-def { 
            background: #c2b5a3; border: 2px dashed #4a2e1b; padding: 8px; 
            border-radius: 6px; cursor: pointer; margin: 4px; width: 45%; font-size: 0.9em;
            color: #1a1105;
        }
        .match-def.filled { border-style: solid; background: #a69c8a; border-color: #1e8449; }
        
        /* --- Utilities --- */
        .hidden { display: none !important; }
        .reset-btn { margin-top: 15px; background: #5d6d7e; color: white; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer; font-family: 'Cinzel', serif; font-size: 0.9em;}
        .next-btn { margin-top: 5px; font-size: 1.1em; padding: 6px 15px; background: #21618c; color: white; border: none; border-radius: 6px; cursor: pointer; box-shadow: 0 3px #154360;}
        .next-btn:active { box-shadow: 0 0 #154360; transform: translateY(3px); }
        
        /* --- Footer --- */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, rgba(162, 175, 185, 1) 15%, rgba(162, 175, 185, 0.8) 50%, transparent 100%);
            color: #1a1105; 
            padding: 15px 10px 5px 10px; 
            font-size: 0.9em;
            text-align: center;
            z-index: 1000;
            font-family: 'EB Garamond', serif;
            font-weight: 600;
            text-shadow: 1px 1px 3px rgba(255,255,255,0.5);
            pointer-events: none;
        }
    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="audio.mp3" type="audio/mpeg">
    </audio>

    <div id="invitation-screen">
        <h1>Î•Ï€Î¯ÏƒÎ·Î¼Î· Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ· ğŸ“œ</h1>
        <br>
        <img src="invitation.png" alt="Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ· ÏƒÏ„Î¿ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬" id="invitation-img">
        <br>
        <button class="menu-btn btn-start" onclick="acceptInvitation()">Î‘Ï€Î¿Î´Î¿Ï‡Î® Î ÏÏŒÏƒÎºÎ»Î·ÏƒÎ·Ï‚ â”</button>
    </div>

    <div id="intro-screen" class="hidden">
        <h1>ğŸ° ÎšÎ±Î»Ï‰ÏƒÎ¿ÏÎ¯ÏƒÎ±Ï„Îµ ÏƒÏ„Î¿ ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÏŒ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬ ğŸ‘‘</h1>
        <br>
        <video id="intro-video" controls>
            <source src="video.mp4" type="video/mp4">
            Î¤Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Ï€ÎµÏÎ¹Î®Î³Î·ÏƒÎ®Ï‚ ÏƒÎ±Ï‚ Î´ÎµÎ½ Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ Ï„Î·Î½ Î±Î½Î±Ï€Î±ÏÎ±Î³Ï‰Î³Î® Î²Î¯Î½Ï„ÎµÎ¿.
        </video>
        <br>
        <button class="menu-btn btn-start" onclick="enterTournament()">Î•Î¯ÏƒÎ¿Î´Î¿Ï‚ ÏƒÏ„Î¿ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬ â”</button>
    </div>

    <div id="main-game" class="hidden">
        <h1>ğŸ° ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÏŒ Î¤Î¿Ï…ÏÎ½Î¿Ï…Î¬ Î“Î½ÏÏƒÎµÏ‰Î½ ğŸ‘‘</h1>
        <br>
        <h3 class="flashing-gold" style="margin-bottom: 8px;">ğŸ”” Î‘Ï€Î±Î½Ï„Î¬ Î· Î¿Î¼Î¬Î´Î± Ï€Î¿Ï… Ï€Î±Ï„Î¬ Ï€ÏÏÏ„Î· Ï„Î¿ buzzer!</h3>

        <div class="scoreboard">
            <div class="score-west">
                ğŸ›¡ï¸ Î™Ï€Ï€ÏŒÏ„ÎµÏ‚ (Î”ÏÏƒÎ·): <span id="scoreW">0</span>
                <br>
                <button class="points-btn" style="background:#2c3e50; color:white;" onclick="addScore('W', 10)">+10</button>
                <button class="points-btn" style="background:#922b21; color:white;" onclick="addScore('W', -10)">-10</button>
            </div>
            <div class="score-east">
                ğŸ¦… Î†ÏÏ‡Î¿Î½Ï„ÎµÏ‚ (Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿): <span id="scoreE">0</span>
                <br>
                <button class="points-btn" style="background:#5a2673; color:white;" onclick="addScore('E', 10)">+10</button>
                <button class="points-btn" style="background:#922b21; color:white;" onclick="addScore('E', -10)">-10</button>
            </div>
        </div>

        <div id="main-menu">
            <button class="menu-btn" onclick="startJousting()">âš”ï¸ ÎšÎ¿Î½Ï„Î±ÏÎ¿Î¼Î±Ï‡Î¯Î±</button>
            <button class="menu-btn" onclick="startWisdom()">ğŸ“œ Î”Î¿ÎºÎ¹Î¼Î±ÏƒÎ¯Î± Î£Î¿Ï†Î¿Ï</button>
            <button class="menu-btn" onclick="startBridge()">âš–ï¸ Î“Î­Ï†Ï…ÏÎ±</button>
            <button class="menu-btn" onclick="startMatching()">ğŸ”— Î›ÎµÎ¾Î¹ÎºÏŒ Î§ÏÏŒÎ½Î¿Ï…</button>
            <br>
            <button class="menu-btn btn-gold" style="margin-top: 5px;" onclick="startCeremony()">ğŸ† Î¤ÎµÎ»ÎµÏ„Î® Î‘Ï€Î¿Î½Î¿Î¼Î®Ï‚</button>
        </div>

        <div id="game-area" class="hidden"></div>

        <button class="reset-btn" style="pointer-events: auto;" onclick="resetScores()">ÎœÎ·Î´ÎµÎ½Î¹ÏƒÎ¼ÏŒÏ‚ Î£ÎºÎ¿Ï</button>
    </div>

    <footer>
        Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±: Î Î±Î½Î±Î³Î¹ÏÏ„Î·Ï‚ Î”ÏŒÎ¼Î²ÏÎ¿Ï‚, Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÏŒÏ‚ Î‘Î³Î³Î»Î¹ÎºÎ®Ï‚ Î“Î»ÏÏƒÏƒÎ±Ï‚ & Î˜ÎµÎ±Ï„ÏÎ¿Î»ÏŒÎ³Î¿Ï‚, Î”Î¹ÎµÏ…Î¸Ï…Î½Ï„Î®Ï‚ 1Î¿Ï… Î“Ï…Î¼Î½Î±ÏƒÎ¯Î¿Ï… Î Ï…Î»Î±Î¯Î±Ï‚
    </footer>

    <script>
        const bgMusic = document.getElementById('bg-music');
        const video = document.getElementById('intro-video');

        function startMusic() {
            if (bgMusic.paused && document.getElementById('main-game').classList.contains('hidden')) {
                bgMusic.play().catch(e => console.log("Autoplay blocked until user interaction."));
            }
            document.removeEventListener('click', startMusic);
        }
        document.addEventListener('click', startMusic);

        if (video) {
            video.addEventListener('play', () => {
                if (bgMusic) bgMusic.pause();
            });
        }

        function acceptInvitation() {
            document.getElementById('invitation-screen').classList.add('hidden');
            document.getElementById('intro-screen').classList.remove('hidden');
            
            if (bgMusic && bgMusic.paused) {
                bgMusic.play().catch(e => console.log("Autoplay blocked."));
            }
        }

        function enterTournament() {
            if(video) { video.pause(); }
            if(bgMusic) { bgMusic.pause(); } 
            
            document.getElementById('intro-screen').classList.add('hidden');
            document.getElementById('main-game').classList.remove('hidden');
        }

        let scoreWest = localStorage.getItem('medievalScoreW') ? parseInt(localStorage.getItem('medievalScoreW')) : 0;
        let scoreEast = localStorage.getItem('medievalScoreE') ? parseInt(localStorage.getItem('medievalScoreE')) : 0;

        function updateScoreboard() {
            document.getElementById('scoreW').innerText = scoreWest;
            document.getElementById('scoreE').innerText = scoreEast;
            localStorage.setItem('medievalScoreW', scoreWest);
            localStorage.setItem('medievalScoreE', scoreEast);
        }

        function addScore(team, points) {
            if(team === 'W') scoreWest += points;
            if(team === 'E') scoreEast += points;
            updateScoreboard();
        }

        function resetScores() {
            if(confirm("Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î¼Î·Î´ÎµÎ½Î¯ÏƒÎµÏ„Îµ Ï„Î± ÏƒÎºÎ¿Ï;")) {
                scoreWest = 0; scoreEast = 0;
                updateScoreboard();
            }
        }
        updateScoreboard();

        const gameArea = document.getElementById('game-area');
        const mainMenu = document.getElementById('main-menu');

        function showMenu() {
            gameArea.innerHTML = '';
            gameArea.classList.add('hidden');
            mainMenu.classList.remove('hidden');
        }

        // --- Î”ÎŸÎšÎ™ÎœÎ‘Î£Î™Î‘ 1: ÎšÎŸÎÎ¤Î‘Î¡ÎŸÎœÎ‘Î§Î™Î‘ (10 Î•ÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚) ---
        const joustingQuestions = [
            { q: "Î— Ï€Î±Î¹Î´Î¹ÎºÎ® ÎµÏÎ³Î±ÏƒÎ¯Î± ÏƒÏ„Î± Ï‡Ï‰ÏÎ¬Ï†Î¹Î± Î¾ÎµÎºÎ¹Î½Î¿ÏÏƒÎµ Î±Ï€ÏŒ Ï„Î·Î½ Î±Î½Î±Ï„Î¿Î»Î® Ï‰Ï‚ Ï„Î· Î´ÏÏƒÎ·;", a: "Î”ÏÏƒÎ·" },
            { q: "Î”Î¹Î­Î¸ÎµÏ„Î±Î½ Î¿ÏÎ³Î±Î½Ï‰Î¼Î­Î½Î± ÎºÏÎ±Ï„Î¹ÎºÎ¬ Î½Î¿ÏƒÎ¿ÎºÎ¿Î¼ÎµÎ¯Î± ÏƒÎµ ÎºÎ¬Î¸Îµ Ï€ÏŒÎ»Î·;", a: "Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" },
            { q: "Î•ÎºÎµÎ¯ Î³ÎµÎ½Î½Î®Î¸Î·ÎºÎµ Î¿ 'Î™Ï€Ï€Î¿Ï„Î¹ÎºÏŒÏ‚ ÎˆÏÏ‰Ï„Î±Ï‚';", a: "Î”ÏÏƒÎ·" },
            { q: "Î— ÎµÎºÏ€Î±Î¯Î´ÎµÏ…ÏƒÎ· Î®Ï„Î±Î½ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î¿ Î¼ÏŒÎ½Î¿ Ï„Ï‰Î½ Î»Î¯Î³Ï‰Î½ (Î¼Î¿Î½Î±ÏƒÏ„Î®ÏÎ¹Î± Î® ÎµÎ»Î¯Ï„);", a: "Î”ÏÏƒÎ·" },
            { q: "Î•Î¯Ï‡Î±Î½ Î»Î±Ï„ÏÎµÎ¯Î± Î³Î¹Î± Ï„Î¿ Î¼Î±ÎºÎ¹Î³Î¹Î¬Î¶, Ï„Î± ÎºÎ¿ÏƒÎ¼Î®Î¼Î±Ï„Î± ÎºÎ±Î¹ Ï„Î± Î¼ÎµÏ„Î±Î¾Ï‰Ï„Î¬;", a: "Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" },
            { q: "ÎŸÎ¹ Ï†Ï„Ï‰Ï‡Î¿Î¯ Î¶Î¿ÏÏƒÎ±Î½ ÏƒÏ…Ï‡Î½Î¬ ÏƒÎµ ÏƒÏ€Î¯Ï„Î¹Î± Î¼Îµ Ï„Î¿Î½ ÏƒÏ„Î¬Î²Î»Î¿ ÏƒÏ„Î¿ Î¹ÏƒÏŒÎ³ÎµÎ¹Î¿;", a: "Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" },
            { q: "ÎŸÎ¹ Ï€ÏÎ¿ÏƒÎºÏ…Î½Î·Ï„Î­Ï‚ Ï„Î±Î¾Î¯Î´ÎµÏ…Î±Î½ ÏƒÏ„Î¿ Î£Î±Î½Ï„Î¹Î¬Î³Î¿ Î½Ï„Îµ ÎšÎ¿Î¼Ï€Î¿ÏƒÏ„Î­Î»Î±;", a: "Î”ÏÏƒÎ·" },
            { q: "Î— ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î± Î®Ï„Î±Î½ Î¿ÏÎ³Î±Î½Ï‰Î¼Î­Î½Î· Î³ÏÏÏ‰ Î±Ï€ÏŒ Ï†ÎµÎ¿Ï…Î´Î¬ÏÏ‡ÎµÏ‚ ÎºÎ±Î¹ Ï€Î­Ï„ÏÎ¹Î½Î± ÎºÎ¬ÏƒÏ„ÏÎ±;", a: "Î”ÏÏƒÎ·" },
            { q: "Î¥Ï€Î®ÏÏ‡Îµ Ï„Î¿ Î´Î¹ÎºÎ±Î¯Ï‰Î¼Î± Î´Î¹Î±Î¶Ï…Î³Î¯Î¿Ï… ÎºÎ±Î¹ Î¿ Î³Î¬Î¼Î¿Ï‚ Î³Î¹Î½ÏŒÏ„Î±Î½ Î¼Îµ Ï€ÏÎ¿Î¹ÎºÎ¿ÏƒÏÎ¼Ï†Ï‰Î½Î¿;", a: "Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" },
            { q: "Î— Î•ÎºÎºÎ»Î·ÏƒÎ¯Î± Î´Î¹Î±Ï„Î·ÏÎ¿ÏÏƒÎµ Î¿ÏÎ³Î±Î½Ï‰Î¼Î­Î½Î± Ï€Ï„Ï‰Ï‡Î¿ÎºÎ¿Î¼ÎµÎ¯Î± ÎºÎ±Î¹ Î¿ÏÏ†Î±Î½Î¿Ï„ÏÎ¿Ï†ÎµÎ¯Î±;", a: "Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" }
        ];
        let currentJQuestion = 0;

        function startJousting() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            currentJQuestion = 0;
            renderJoustingQuestion();
        }

        function renderJoustingQuestion() {
            if(currentJQuestion >= joustingQuestions.length) {
                gameArea.innerHTML = `<div class="question-box"><h2>Î¤Î­Î»Î¿Ï‚ Î”Î¿ÎºÎ¹Î¼Î±ÏƒÎ¯Î±Ï‚!</h2></div><button class="menu-btn" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>`;
                return;
            }
            let q = joustingQuestions[currentJQuestion];
            gameArea.innerHTML = `
                <div class="question-box"><h2>${currentJQuestion + 1}. ${q.q}</h2></div>
                
                <div style="display:flex; justify-content:center; align-items: center; margin: 5px 0;">
                    <div style="text-align:center;">
                         <img src="shield1.png" alt="Î”ÏÏƒÎ· - ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÎ® Î•Ï…ÏÏÏ€Î·" class="shield-btn" onclick="checkJousting('Î”ÏÏƒÎ·')">
                         <p style="font-family: 'Cinzel', serif; color: var(--west-color); font-weight: 900; margin-top: 2px; font-size: 0.9em;">Î™Î Î ÎŸÎ¤Î•Î£</p>
                    </div>
                    
                    <h2 style="margin: 0 10px; font-size: 1.8em; font-family: 'Cinzel', serif; color:#a04000;">VS</h2> 

                    <div style="text-align:center;">
                        <img src="shield2.png" alt="Î‘Î½Î±Ï„Î¿Î»Î® - Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿" class="shield-btn" onclick="checkJousting('Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿')">
                        <p style="font-family: 'Cinzel', serif; color: #5a2673; font-weight: 900; margin-top: 2px; font-size: 0.9em;">Î‘Î¡Î§ÎŸÎÎ¤Î•Î£</p>
                    </div>
                </div>

                <p style="font-size: 0.8em; margin: 0 0 5px 0;"><em>(Î‘Î³Î³Î¯Î¾Ï„Îµ Ï„Î·Î½ Î±ÏƒÏ€Î¯Î´Î± Ï„Î·Ï‚ ÏƒÏ‰ÏƒÏ„Î®Ï‚ Î¿Î¼Î¬Î´Î±Ï‚)</em></p>
                <button class="next-btn" onclick="currentJQuestion++; renderJoustingQuestion()">Î•Ï€ÏŒÎ¼ÎµÎ½Î· Î•ÏÏÏ„Î·ÏƒÎ· â”</button>
            `;
        }

        function checkJousting(ans) {
            let correct = joustingQuestions[currentJQuestion].a;
            if(ans === correct) { alert("Î£Ï‰ÏƒÏ„Î¬! +10 Ï€ÏŒÎ½Ï„Î¿Î¹ ÏƒÏ„Î·Î½ Î¿Î¼Î¬Î´Î± Ï€Î¿Ï… Î±Ï€Î¬Î½Ï„Î·ÏƒÎµ."); } 
            else { alert("Î›Î¬Î¸Î¿Ï‚! Î‰Ï„Î±Î½: " + correct); }
            currentJQuestion++; renderJoustingQuestion();
        }

        // --- Î”ÎŸÎšÎ™ÎœÎ‘Î£Î™Î‘ 2: Î£ÎŸÎ¦ÎŸÎ£ (Î Î¿Î»Î»Î±Ï€Î»Î®Ï‚ Î•Ï€Î¹Î»Î¿Î³Î®Ï‚ - 10 Î•ÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚) ---
        const wisdomQuestions = [
            { q: "Î ÏÏ‚ Î®Ï„Î±Î½ Ï„Î¿ ÏƒÏ€Î¯Ï„Î¹ ÎµÎ½ÏŒÏ‚ Ï†Ï„Ï‰Ï‡Î¿Ï Ï‡Ï‰ÏÎ¹ÎºÎ¿Ï ÏƒÏ„Î·Î½ Î•Ï…ÏÏÏ€Î·;", opts: ["ÎˆÎ½Î± Î´Ï‰Î¼Î¬Ï„Î¹Î¿ Î±Ï€ÏŒ Î»Î¬ÏƒÏ€Î· ÎºÎ±Î¹ Î¬Ï‡Ï…ÏÎ±", "Î”Î¹ÏÏÎ¿Ï†Î¿ Î¼Îµ ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ® Î±Ï…Î»Î®", "Î Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î± Î¼Îµ ÎºÎ¿Î¹Î½ÏŒÏ‡ÏÎ·ÏƒÏ„Î¿ Î»Î¿Ï…Ï„ÏÏŒ"], correct: 0 },
            { q: "Î¤Î¹ Î¼Î±Î¸Î®Î¼Î±Ï„Î± Î´Î¹Î´Î¬ÏƒÎºÎ¿Î½Ï„Î±Î½ ÏƒÏ„Î± ÏƒÏ‡Î¿Î»ÎµÎ¯Î± Ï„Î¿Ï… Î’Ï…Î¶Î±Î½Ï„Î¯Î¿Ï…;", opts: ["ÎœÏŒÎ½Î¿ Î¸ÏÎ·ÏƒÎºÎµÏ…Ï„Î¹ÎºÎ¬ ÎºÎ±Î¹ Î±Î½Î¬Î³Î½Ï‰ÏƒÎ·", "ÎŒÎ¼Î·ÏÎ¿Ï‚, ÎœÎ±Î¸Î·Î¼Î±Ï„Î¹ÎºÎ¬, Î‘ÏƒÏ„ÏÎ¿Î½Î¿Î¼Î¯Î±", "ÎÎ¹Ï†Î±ÏƒÎºÎ¯Î± ÎºÎ±Î¹ Î¹Ï€Ï€Î±ÏƒÎ¯Î±"], correct: 1 },
            { q: "Î Î¿Î¹Î¿ Î®Ï„Î±Î½ Ï„Î¿ ÏƒÏÎ¼Î²Î¿Î»Î¿ Ï€Î»Î¿ÏÏ„Î¿Ï… ÎºÎ±Î¹ ÎºÏÏÎ¿Ï…Ï‚ ÏƒÏ„Î¿ Î½Ï„ÏÏƒÎ¹Î¼Î¿ Ï„Î·Ï‚ Î”ÏÏƒÎ·Ï‚;", opts: ["Î¤Î± Ï€Î¿Î»Î»Î¬ Î´Î±Ï‡Ï„Ï…Î»Î¯Î´Î¹Î±", "Î¤Î¿ Î­Î½Ï„Î¿Î½Î¿ Î¼Î±ÎºÎ¹Î³Î¹Î¬Î¶", "Î— Î³Î¿ÏÎ½Î± ÎºÎ±Î¹ Ï„Î¿ Î¼Î®ÎºÎ¿Ï‚ Ï„Î¿Ï… ÏÎ¿ÏÏ‡Î¿Ï…"], correct: 2 },
            { q: "Î Î¿Î¹Î¿Ï‚ Î®Ï„Î±Î½ Î¿ ÏÏŒÎ»Î¿Ï‚ Ï„Î·Ï‚ Î³Ï…Î½Î±Î¯ÎºÎ±Ï‚ ÏƒÏ„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿;", opts: ["Î”ÎµÎ½ Î­Î²Î³Î±Î¹Î½Îµ Ï€Î¿Ï„Î­ Î±Ï€ÏŒ Ï„Î¿ ÏƒÏ€Î¯Ï„Î¹", "ÎšÎ¬Î»Ï…Ï€Ï„Îµ Ï„Î¿ Ï€ÏÏŒÏƒÏ‰Ï€Î¿ Î­Î¾Ï‰, Î±Î»Î»Î¬ ÏƒÏ…Ï‡Î½Î¬ ÎºÏ…ÏÎ¹Î±ÏÏ‡Î¿ÏÏƒÎµ Î¼Î­ÏƒÎ±", "Î”Î¹Î¿Î¹ÎºÎ¿ÏÏƒÎµ Ï„Î¿Î½ ÏƒÏ„ÏÎ±Ï„ÏŒ ÏƒÎµ ÏÏÎ± Ï€Î¿Î»Î­Î¼Î¿Ï…"], correct: 1 },
            { q: "Î Î¿Î¹Î± Î®Ï„Î±Î½ Î· Î²Î¬ÏƒÎ· Ï„Î·Ï‚ Î´Î¹Î±Ï„ÏÎ¿Ï†Î®Ï‚ ÏƒÏ„Î· ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÎ® Î•Ï…ÏÏÏ€Î·;", opts: ["Î¨Ï‰Î¼Î¯ ÎºÎ±Î¹ ÎºÏÎ±ÏƒÎ¯", "ÎŸÏÎµÎºÏ„Î¹ÎºÎ¬ ÎºÎ±Î¹ ÏˆÎ¬ÏÎ¹Î±", "Î¡ÏÎ¶Î¹ ÎºÎ±Î¹ Î¼Ï€Î±Ï‡Î±ÏÎ¹ÎºÎ¬"], correct: 0 },
            { q: "Î Î¿Î¹Î¿Ï‚ Î®Ï„Î±Î½ Î­Î½Î±Ï‚ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÏŒÏ‚ Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Ï„Ï‰Î½ Ï€ÏÎ¿ÏƒÎºÏ…Î½Î·Ï„ÏÎ½ ÏƒÏ„Î· Î”ÏÏƒÎ·;", opts: ["Î¤Î¿ Î†Î³Î¹Î¿ ÎŒÏÎ¿Ï‚", "Î¤Î¿ Î£Î±Î½Ï„Î¹Î¬Î³Î¿ Î½Ï„Îµ ÎšÎ¿Î¼Ï€Î¿ÏƒÏ„Î­Î»Î±", "Î— ÎšÏ‰Î½ÏƒÏ„Î±Î½Ï„Î¹Î½Î¿ÏÏ€Î¿Î»Î·"], correct: 1 },
            { q: "Î Î¿Ï Î´Î¹Î­Î¼ÎµÎ½Î±Î½ ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ Î¿Î¹ Î¼Î¿Î½Î±Ï‡Î¿Î¯ ÏƒÏ„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿;", opts: ["Î£Îµ Î¼ÎµÎ³Î¬Î»Î± Î±ÏƒÏ„Î¹ÎºÎ¬ ÎºÎ­Î½Ï„ÏÎ± ÎºÎ±Î¹ ÎºÎ¬ÏƒÏ„ÏÎ±", "Î£Ï„Î·Î½ Î­ÏÎ·Î¼Î¿ Î® ÏƒÏ„Î¿ Î†Î³Î¹Î¿ ÎŒÏÎ¿Ï‚", "Î£Îµ Ï€Î¿Î»Ï…ÏÏÎ¿Ï†Î± Î±ÏÏ‡Î¿Î½Ï„Î¹ÎºÎ¬ Î¼Îµ Î»Î¿Ï…Ï„ÏÎ¬"], correct: 1 },
            { q: "Î¤Î¹ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ ÎµÎ¯Ï‡Î±Î½ Ï„Î± ÏƒÏ€Î¯Ï„Î¹Î± Ï„Ï‰Î½ Ï€Î»Î¿Ï…ÏƒÎ¯Ï‰Î½ ÏƒÏ„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿;", opts: ["Î‰Ï„Î±Î½ Ï€Î­Ï„ÏÎ¹Î½Î± ÎºÎ±Î¹ ÎºÏÏÎ± ÎºÎ¬ÏƒÏ„ÏÎ±", "Î‰Ï„Î±Î½ ÎºÎ±Î»ÏÎ²ÎµÏ‚ Î±Ï€ÏŒ Î»Î¬ÏƒÏ€Î·", "Î‰Ï„Î±Î½ Ï€Î¿Î»Ï…ÏÏÎ¿Ï†Î± Î¼Îµ ÏƒÎ¬Î»Î± Ï…Ï€Î¿Î´Î¿Ï‡Î®Ï‚, Î»Î¿Ï…Ï„ÏÏŒ ÎºÎ±Î¹ Ï€Î±ÏÎµÎºÎºÎ»Î®ÏƒÎ¹"], correct: 2 },
            { q: "Î ÏÏ‚ Î´Î¹Î±ÏƒÎºÎ­Î´Î±Î¶Î±Î½ Î¿Î¹ ÎºÎ¬Ï„Î¿Î¹ÎºÎ¿Î¹ ÏƒÏ„Î± ÎºÎ¬ÏƒÏ„ÏÎ± Ï„Î·Ï‚ Î”ÏÏƒÎ·Ï‚;", opts: ["ÎœÎµ Î±ÏÎ¼Î±Ï„Î¿Î´ÏÎ¿Î¼Î¯ÎµÏ‚", "ÎœÎµ ÎºÎ¿Î½Ï„Î±ÏÎ¿Î¼Î±Ï‡Î¯ÎµÏ‚ (jousting) ÎºÎ±Î¹ Ï„ÏÎ¿Î²Î±Î´Î¿ÏÏÎ¿Ï…Ï‚", "ÎœÎµ ÎµÏ€Î¹ÏƒÎºÎ­ÏˆÎµÎ¹Ï‚ ÏƒÏ„Î± Î½Î¿ÏƒÎ¿ÎºÎ¿Î¼ÎµÎ¯Î±"], correct: 1 },
            { q: "Î¤Î¹ ÎºÎ¿Î¹Î½ÏŒ ÎµÎ¯Ï‡Î±Î½ Î¿Î¹ Î´ÏÎ¿ ÎºÏŒÏƒÎ¼Î¿Î¹ (Î”ÏÏƒÎ· ÎºÎ±Î¹ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿);", opts: ["Î¤Î·Î½ Î±Ï€ÏŒÎ»Ï…Ï„Î· Î¹ÏƒÏŒÏ„Î·Ï„Î± Î¼ÎµÏ„Î±Î¾Ï Ï„Ï‰Î½ Ï†ÏÎ»Ï‰Î½", "Î¤Î¿ Ï„ÎµÏÎ¬ÏƒÏ„Î¹Î¿ Ï‡Î¬ÏƒÎ¼Î± Î¼ÎµÏ„Î±Î¾Ï Ï€Î»Î¿Ï…ÏƒÎ¯Ï‰Î½ ÎºÎ±Î¹ Ï†Ï„Ï‰Ï‡ÏÎ½", "Î¤Î± Î¯Î´Î¹Î± ÏÎ¿ÏÏ‡Î± ÎºÎ±Î¹ Î´Î¹Î±Ï„ÏÎ¿Ï†Î®"], correct: 1 }
        ];
        let currentWQuestion = 0;

        function startWisdom() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            currentWQuestion = 0;
            renderWisdomQuestion();
        }

        function renderWisdomQuestion() {
            if(currentWQuestion >= wisdomQuestions.length) {
                gameArea.innerHTML = `<div class="question-box"><h2>Î¤Î­Î»Î¿Ï‚ Î”Î¿ÎºÎ¹Î¼Î±ÏƒÎ¯Î±Ï‚!</h2></div><button class="menu-btn" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>`;
                return;
            }
            let q = wisdomQuestions[currentWQuestion];
            let optionsHTML = '';
            q.opts.forEach((opt, index) => {
                optionsHTML += `<button class="choice-btn choice-btn-full" onclick="checkWisdom(${index})">${opt}</button>`;
            });

            gameArea.innerHTML = `
                <div class="question-box"><h2>${currentWQuestion + 1}. ${q.q}</h2></div>
                ${optionsHTML}
                <button class="next-btn" style="margin-top: 5px;" onclick="currentWQuestion++; renderWisdomQuestion()">Î•Ï€ÏŒÎ¼ÎµÎ½Î· Î•ÏÏÏ„Î·ÏƒÎ· â”</button>
            `;
        }

        function checkWisdom(selectedIndex) {
            let correctIndex = wisdomQuestions[currentWQuestion].correct;
            if(selectedIndex === correctIndex) { alert("Î‘Ï€Î¿Î»ÏÏ„Ï‰Ï‚ Î£Ï‰ÏƒÏ„ÏŒ!"); } 
            else { alert("Î›Î¬Î¸Î¿Ï‚! Î— ÏƒÏ‰ÏƒÏ„Î® Î±Ï€Î¬Î½Ï„Î·ÏƒÎ· Î®Ï„Î±Î½: " + wisdomQuestions[currentWQuestion].opts[correctIndex]); }
            currentWQuestion++; renderWisdomQuestion();
        }

        // --- Î”ÎŸÎšÎ™ÎœÎ‘Î£Î™Î‘ 3: Î“Î•Î¦Î¥Î¡Î‘ (Î£Ï‰ÏƒÏ„ÏŒ/Î›Î¬Î¸Î¿Ï‚ - 10 Î•ÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚) ---
        const bridgeQuestions = [
            { q: "Î£Ï„Î· Î”ÏÏƒÎ·, Î¿ ÏƒÏÎ¶Ï…Î³Î¿Ï‚ Î¸ÎµÏ‰ÏÎ¿ÏÏƒÎµ Ï„Î· Î³Ï…Î½Î±Î¯ÎºÎ± ÎºÎ±Ï„ÏÏ„ÎµÏÎ· ÎºÎ±Î¹ ÎµÎ¯Ï‡Îµ Î´Î¹ÎºÎ±Î¯Ï‰Î¼Î± ÏƒÏ‰Î¼Î±Ï„Î¹ÎºÎ®Ï‚ Ï„Î¹Î¼Ï‰ÏÎ¯Î±Ï‚.", a: true, expl: "Î— Î³Ï…Î½Î±Î¯ÎºÎ± Î¸ÎµÏ‰ÏÎ¿ÏÎ½Ï„Î±Î½ ÎºÎ±Ï„ÏÏ„ÎµÏÎ·." },
            { q: "Î¤Î± Ï€Î­Ï„ÏÎ¹Î½Î± ÎºÎ¬ÏƒÏ„ÏÎ± Ï„Î·Ï‚ Î”ÏÏƒÎ·Ï‚ Î®Ï„Î±Î½ Î¶ÎµÏƒÏ„Î¬ ÎºÎ±Î¹ Ï€Î¿Î»Ï Î¬Î½ÎµÏ„Î± Ï„Î¿Î½ Ï‡ÎµÎ¹Î¼ÏÎ½Î±.", a: false, expl: "Î‰Ï„Î±Î½ Î±ÏƒÏ†Î±Î»Î® ÎºÎ±Î¹ ÏƒÏÎ¼Î²Î¿Î»Î± Î³Î¿Î®Ï„ÏÎ¿Ï…, Î±Î»Î»Î¬ Ï€Î¿Î»Ï ÎºÏÏÎ±." },
            { q: "Î£Ï„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿ Ï…Ï€Î®ÏÏ‡Î±Î½ ÎºÎ±Î¹ Î´Ï‰ÏÎµÎ¬Î½ ÏƒÏ‡Î¿Î»ÎµÎ¯Î± Î³Î¹Î± Ï„Î± Î¿ÏÏ†Î±Î½Î¬.", a: true, expl: "Î Î±ÏÏŒÏ„Î¹ Ï…Ï€Î®ÏÏ‡Î±Î½ Î´Î¯Î´Î±ÎºÏ„ÏÎ±, Ï…Ï€Î®ÏÏ‡Îµ ÎºÎ±Î¹ Î¼Î­ÏÎ¹Î¼Î½Î± Î³Î¹Î± Ï„Î± Î¿ÏÏ†Î±Î½Î¬." },
            { q: "ÎšÎ±Î¹ ÏƒÏ„Î¿Ï…Ï‚ Î´ÏÎ¿ ÎºÏŒÏƒÎ¼Î¿Ï…Ï‚, Î¿Î¹ Î³Ï…Î½Î±Î¯ÎºÎµÏ‚ ÎµÎ¯Ï‡Î±Î½ Î±ÎºÏÎ¹Î²ÏÏ‚ Ï„Î± Î¯Î´Î¹Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Î¼Îµ Ï„Î¿Ï…Ï‚ Î¬Î½Î´ÏÎµÏ‚.", a: false, expl: "ÎŸÎ¹ Î³Ï…Î½Î±Î¯ÎºÎµÏ‚ ÎµÎ¯Ï‡Î±Î½ Ï€ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± ÎºÎ±Î¹ ÏƒÏ„Î¹Ï‚ Î´ÏÎ¿ ÎºÎ¿Î¹Î½Ï‰Î½Î¯ÎµÏ‚." },
            { q: "Î— Î¼Î±Î³ÎµÎ¯Î± ÎºÎ±Î¹ Î· Î´ÎµÎ¹ÏƒÎ¹Î´Î±Î¹Î¼Î¿Î½Î¯Î± ÎµÎ¯Ï‡Î±Î½ ÎµÎ¾Î±Ï†Î±Î½Î¹ÏƒÏ„ÎµÎ¯ Ï€Î»Î®ÏÏ‰Ï‚ ÏƒÏ„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿.", a: false, expl: "Î Î±ÏÎ¬ Ï„Î·Î½ ÎµÏ€Î¹ÏƒÏ„Î®Î¼Î·, Î· Î¼Î±Î³ÎµÎ¯Î± Ï€Î±ÏÎ­Î¼ÎµÎ½Îµ Î´Î·Î¼Î¿Ï†Î¹Î»Î®Ï‚." },
            { q: "Î£Ï„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿, Î· Î³Ï…Î½Î±Î¯ÎºÎ± ÎºÎ¬Î»Ï…Ï€Ï„Îµ Ï„Î¿ Ï€ÏÏŒÏƒÏ‰Ï€ÏŒ Ï„Î·Ï‚ Î­Î¾Ï‰ Î±Î»Î»Î¬ ÏƒÏ…Ï‡Î½Î¬ ÎºÏ…ÏÎ¹Î±ÏÏ‡Î¿ÏÏƒÎµ Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ ÏƒÏ€Î¯Ï„Î¹.", a: true, expl: "Î‘Ï€ÏŒ Ï„Î¿Î½ 11Î¿ Î±Î¹ÏÎ½Î± ÏƒÏ…Î¼Î¼ÎµÏ„ÎµÎ¯Ï‡Îµ ÎºÎ±Î¹ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ¿ ÏƒÏ„Î± ÎºÎ¿Î¹Î½Î¬." },
            { q: "Î— Î´Î¹Î±Ï„ÏÎ¿Ï†Î® ÏƒÏ„Î· ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÎ® Î”ÏÏƒÎ· Î²Î±ÏƒÎ¹Î¶ÏŒÏ„Î±Î½ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ ÏƒÏ„Î¿ ÏˆÎ¬ÏÎ¹ ÎºÎ±Î¹ Ï„Î± Î¿ÏÎµÎºÏ„Î¹ÎºÎ¬.", a: false, expl: "Î— Î²Î¬ÏƒÎ· Î®Ï„Î±Î½ Ï„Î¿ ÏˆÏ‰Î¼Î¯, Ï„Î¿ ÎºÏÎ±ÏƒÎ¯ ÎºÎ±Î¹ Ï„Î¿ ÎºÏÎ­Î±Ï‚ (Ï‡Î¿Î¹ÏÎ¿ÏƒÏ†Î¬Î³Î¹Î±). Î¤Î¿ ÏˆÎ¬ÏÎ¹ Î±Ï†Î¿ÏÎ¿ÏÏƒÎµ Ï„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿." },
            { q: "Î¤Î± ÏÎ¿ÏÏ‡Î± ÏƒÏ„Î· ÎœÎµÏƒÎ±Î¹Ï‰Î½Î¹ÎºÎ® Î•Ï…ÏÏÏ€Î· Î´Î®Î»Ï‰Î½Î±Î½ Î¾ÎµÎºÎ¬Î¸Î±ÏÎ± Ï„Î·Î½ ÎºÎ¿Î¹Î½Ï‰Î½Î¹ÎºÎ® Ï„Î¬Î¾Î· (Ï€.Ï‡. Î¼Î¿Î½Î±Ï‡Î¿Î¯, Î¹Ï€Ï€ÏŒÏ„ÎµÏ‚).", a: true, expl: "Î¤Î± ÏÎ¿ÏÏ‡Î±, ÏŒÏ€Ï‰Ï‚ Î· Î³Î¿ÏÎ½Î±, Î±Ï€Î¿Ï„ÎµÎ»Î¿ÏÏƒÎ±Î½ ÏƒÏÎ¼Î²Î¿Î»Î¿ (status)." },
            { q: "Î¤Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿ Î®Ï„Î±Î½ ÎºÏ…ÏÎ¯Ï‰Ï‚ Î¼Î¹Î± Î±Î³ÏÎ¿Ï„Î¹ÎºÎ® ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î± Ï‡Ï‰ÏÎ¯Ï‚ ÎºÎ±Î¸ÏŒÎ»Î¿Ï… ÎºÏÎ±Ï„Î¹ÎºÎ¿ÏÏ‚ Î¸ÎµÏƒÎ¼Î¿ÏÏ‚.", a: false, expl: "Î‰Ï„Î±Î½ Î¼Î¹Î± Î±ÏƒÏ„Î¹ÎºÎ® ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î± Î¿ÏÎ³Î±Î½Ï‰Î¼Î­Î½Î· Î¼Îµ Î½Î¿ÏƒÎ¿ÎºÎ¿Î¼ÎµÎ¯Î± ÎºÎ±Î¹ ÏƒÏ‡Î¿Î»ÎµÎ¯Î±." },
            { q: "ÎŸÎ¹ Î³Î¹Î¿ÏÏ„Î­Ï‚ ÏƒÏ„Î¿ Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿ Ï€ÎµÏÎ¹Î»Î¬Î¼Î²Î±Î½Î±Î½ Ï€Î±Î½Î·Î³ÏÏÎ¹Î± Î¼Îµ Î¼Î¬Î³Î¿Ï…Ï‚ ÎºÎ±Î¹ Ï†Ï‰Ï„Î¹Î­Ï‚ ÏƒÏ„Î¿Ï…Ï‚ Î´ÏÏŒÎ¼Î¿Ï…Ï‚ (Î‘Ï€ÏŒÎºÏÎ¹ÎµÏ‚).", a: true, expl: "Î‘Ï€Î¿Ï„ÎµÎ»Î¿ÏÏƒÎ±Î½ Î¼Î­ÏÎ¿Ï‚ Ï„Î¿Ï… Î»Î±ÏŠÎºÎ¿Ï Î¸ÎµÎ¬Î¼Î±Ï„Î¿Ï‚." }
        ];
        let currentBQuestion = 0;

        function startBridge() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            currentBQuestion = 0;
            renderBridgeQuestion();
        }

        function renderBridgeQuestion() {
            if(currentBQuestion >= bridgeQuestions.length) {
                gameArea.innerHTML = `<div class="question-box"><h2>Î¤Î­Î»Î¿Ï‚ Î”Î¿ÎºÎ¹Î¼Î±ÏƒÎ¯Î±Ï‚!</h2></div><button class="menu-btn" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>`;
                return;
            }
            let q = bridgeQuestions[currentBQuestion];
            gameArea.innerHTML = `
                <div class="question-box"><h2>${currentBQuestion + 1}. ${q.q}</h2></div>
                <div style="display:flex; justify-content:center; gap: 10px;">
                    <button class="choice-btn" style="background:#1e8449; color:white; border-color:#145a32; width: 35%;" onclick="checkBridge(true)">Î£Î©Î£Î¤ÎŸ</button>
                    <button class="choice-btn" style="background:#922b21; color:white; border-color:#641e16; width: 35%;" onclick="checkBridge(false)">Î›Î‘Î˜ÎŸÎ£</button>
                </div>
                <button class="next-btn" style="margin-top: 5px;" onclick="currentBQuestion++; renderBridgeQuestion()">Î•Ï€ÏŒÎ¼ÎµÎ½Î· Î•ÏÏÏ„Î·ÏƒÎ· â”</button>
            `;
        }

        function checkBridge(ans) {
            let correct = bridgeQuestions[currentBQuestion].a;
            let expl = bridgeQuestions[currentBQuestion].expl;
            if(ans === correct) { alert("Î£Ï‰ÏƒÏ„Î¬! " + expl); } 
            else { alert("Î›Î¬Î¸Î¿Ï‚! " + expl); }
            currentBQuestion++; renderBridgeQuestion();
        }

        // --- Î”ÎŸÎšÎ™ÎœÎ‘Î£Î™Î‘ 4: Î¤Î‘Î™Î¡Î™Î‘Î£ÎœÎ‘ (2 Sets x 3 ÎŒÏÎ¿Ï…Ï‚) ---
        const matchingSets = [
            [
                { term: 'Î£Ï…Î½Ï„ÎµÏ‡Î½Î¯ÎµÏ‚', def: 'Î•Î½ÏÏƒÎµÎ¹Ï‚ ÎµÏ€Î±Î³Î³ÎµÎ»Î¼Î±Ï„Î¹ÏÎ½ (Î­Î¼Ï€Î¿ÏÎ¿Î¹, Ï„ÎµÏ‡Î½Î¯Ï„ÎµÏ‚).' },
                { term: 'Î§Î¿Î¹ÏÎ¿ÏƒÏ†Î¬Î³Î¹Î±', def: 'Î•Î¾Î±ÏƒÏ†Î¬Î»Î¹Î¶Î±Î½ Ï„Î¿ ÎºÏÎ­Î±Ï‚ Ï„Î¿Ï… Ï‡ÎµÎ¹Î¼ÏÎ½Î± Ï„Î¿Î½ Î”ÎµÎºÎ­Î¼Î²ÏÎ¹Î¿.' },
                { term: 'Î™Ï€Ï€ÏŒÎ´ÏÎ¿Î¼Î¿Ï‚', def: 'ÎšÎ­Î½Ï„ÏÎ¿ Î³Î¹Î± Î±ÏÎ¼Î±Ï„Î¿Î´ÏÎ¿Î¼Î¯ÎµÏ‚ ÎºÎ±Î¹ Ï„ÎµÎ»ÎµÏ„Î­Ï‚.' }
            ],
            [
                { term: 'Î™Ï€Ï€Î¿Ï„Î¹ÎºÏŒÏ‚ ÎˆÏÏ‰Ï„Î±Ï‚', def: 'ÎŸ Î¹Ï€Ï€ÏŒÏ„Î·Ï‚ ÎºÎ¬Î½ÎµÎ¹ Î·ÏÏ‰Î¹ÎºÎ­Ï‚ Ï€ÏÎ¬Î¾ÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î·Î½ Î±Î³Î±Ï€Î·Î¼Î­Î½Î·.' },
                { term: 'ÎšÎ¿Î¹Î½Î¿Î²Î¹Î±ÎºÏŒÏ‚ ÎœÎ¿Î½Î±Ï‡Î¹ÏƒÎ¼ÏŒÏ‚', def: 'ÎŸÏÎ³Î¬Î½Ï‰ÏƒÎ· Î¼Î¿Î½Î±Ï‡ÏÎ½ ÏƒÎµ ÎºÎ¿Î¹Î½ÏŒÏ„Î·Ï„ÎµÏ‚ Ï…Ï€ÏŒ Î­Î½Î±Î½ Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿.' },
                { term: 'Î Ï„Ï‰Ï‡Î¿ÎºÎ¿Î¼ÎµÎ¯Î±', def: 'Î™Î´ÏÏÎ¼Î±Ï„Î± Ï€ÏÏŒÎ½Î¿Î¹Î±Ï‚ Ï€Î¿Ï… ÏƒÏ…Î½Ï„Î·ÏÎ¿ÏÏƒÎµ Î· Î•ÎºÎºÎ»Î·ÏƒÎ¯Î±.' }
            ]
        ];
        
        let currentMatchSet = 0;
        let selectedTerm = null;
        let matchesMade = 0;
        
        function startMatching() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            currentMatchSet = 0;
            renderMatchingSet();
        }

        function renderMatchingSet() {
            matchesMade = 0; 
            selectedTerm = null;
            let set = matchingSets[currentMatchSet];
            
            let termsHTML = '';
            let defsHTML = '';
            
            // Î‘Ï€Î»ÏŒ Î±Î½Î±ÎºÎ¬Ï„ÎµÎ¼Î± Ï„Ï‰Î½ Î¿ÏÎ¹ÏƒÎ¼ÏÎ½ Î³Î¹Î± Î½Î± Î¼Î·Î½ ÎµÎ¯Î½Î±Î¹ Î´Î¯Ï€Î»Î±-Î´Î¯Ï€Î»Î± Î¼Îµ Ï„Î¿Ï…Ï‚ ÏŒÏÎ¿Ï…Ï‚
            let shuffledDefs = [...set].sort(() => Math.random() - 0.5);

            set.forEach(item => {
                termsHTML += `<div class="match-term" onclick="selectTerm(this, '${item.term}')">${item.term}</div>`;
            });

            shuffledDefs.forEach(item => {
                defsHTML += `<div class="match-def" onclick="placeTerm(this, '${item.term}')">${item.def}</div>`;
            });

            gameArea.innerHTML = `
                <div class="question-box" style="margin-bottom: 5px;">
                    <h2 style="margin-bottom: 2px;">ÎŸÎ´Î·Î³Î¯ÎµÏ‚ (Î“ÏÏÎ¿Ï‚ ${currentMatchSet + 1}/2):</h2>
                    <p style="font-family: 'EB Garamond', serif;">Î‘Î³Î³Î¯Î¾Ï„Îµ Î­Î½Î±Î½ ÏŒÏÎ¿ ÎºÎ±Î¹ Î¼ÎµÏ„Î¬ Ï„Î¿ ÏƒÏ‰ÏƒÏ„ÏŒ ÎºÎ¿Ï…Ï„Î¯ Î³Î¹Î± Î½Î± Ï„Î¿Î½ Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®ÏƒÎµÏ„Îµ.</p>
                </div>
                <div class="match-container" id="terms-container">${termsHTML}</div>
                <div class="match-container" id="defs-container">${defsHTML}</div>
                
                <div id="match-next-btn-container" class="hidden" style="margin-top: 15px;">
                    <button class="next-btn" onclick="nextMatchingSet()">Î•Ï€ÏŒÎ¼ÎµÎ½Î¿Ï‚ Î“ÏÏÎ¿Ï‚ â”</button>
                </div>
                
                <button id="match-back-btn" class="menu-btn" style="margin-top:10px;" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>
            `;
        }

        function selectTerm(element, term) {
            document.querySelectorAll('.match-term').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedTerm = { el: element, text: term };
        }

        function placeTerm(element, correctTerm) {
            if (!selectedTerm) return;
            if (selectedTerm.text === correctTerm) {
                element.innerHTML = `<strong style="font-family: 'Cinzel', serif;">${selectedTerm.text}</strong>: <br>` + element.innerHTML;
                element.classList.add('filled'); element.style.borderColor = "#1e8449";
                selectedTerm.el.style.display = "none"; selectedTerm = null; matchesMade++;
                
                if(matchesMade === 3) { 
                    setTimeout(() => {
                        alert("Î†ÏÎ¹ÏƒÏ„Î± Î³Î¹Î± Î±Ï…Ï„ÏŒÎ½ Ï„Î¿Î½ Î³ÏÏÎ¿!");
                        if (currentMatchSet < matchingSets.length - 1) {
                            document.getElementById('match-next-btn-container').classList.remove('hidden');
                            document.getElementById('match-back-btn').classList.add('hidden');
                        } else {
                            alert("ÎŸÎ»Î¿ÎºÎ»Î·ÏÏÏƒÎ±Ï„Îµ Ï„Î¿ Î›ÎµÎ¾Î¹ÎºÏŒ Ï„Î¿Ï… Î§ÏÏŒÎ½Î¿Ï…! ÎœÎ¿Î¹ÏÎ¬ÏƒÏ„Îµ Ï„Î¿Ï…Ï‚ Ï€ÏŒÎ½Ï„Î¿Ï…Ï‚.");
                            showMenu();
                        }
                    }, 500); 
                }
            } else {
                element.style.borderColor = "#922b21";
                setTimeout(() => element.style.borderColor = "#4a2e1b", 1000);
                alert("Î›Î¬Î¸Î¿Ï‚ Ï„Î±Î¯ÏÎ¹Î±ÏƒÎ¼Î±! Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬.");
            }
        }
        
        function nextMatchingSet() {
            currentMatchSet++;
            renderMatchingSet();
        }

        // --- Î¤Î•Î›Î•Î¤Î— Î‘Î ÎŸÎÎŸÎœÎ—Î£ ---
        function startCeremony() {
            mainMenu.classList.add('hidden');
            gameArea.classList.remove('hidden');
            
            let winnerText = "";
            let borderColor = "";
            let textColor = "";

            if (scoreWest > scoreEast) {
                winnerText = "ğŸ›¡ï¸<br>ÎÎ¹ÎºÎ·Ï„Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿Î¹ Î™Ï€Ï€ÏŒÏ„ÎµÏ‚ Ï„Î·Ï‚ Î”ÏÏƒÎ·Ï‚!";
                borderColor = "var(--west-color)";
                textColor = "var(--west-color)";
            } else if (scoreEast > scoreWest) {
                winnerText = "ğŸ¦…<br>ÎÎ¹ÎºÎ·Ï„Î­Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿Î¹ Î†ÏÏ‡Î¿Î½Ï„ÎµÏ‚ Ï„Î¿Ï… Î’Ï…Î¶Î±Î½Ï„Î¯Î¿Ï…!";
                borderColor = "#5a2673";
                textColor = "#5a2673";
            } else {
                winnerText = "ğŸ¤<br>Î™ÏƒÎ¿Ï€Î±Î»Î¯Î±!<br>ÎšÎ±Î¹ Î¿Î¹ Î´ÏÎ¿ ÎºÏŒÏƒÎ¼Î¿Î¹ ÎµÏ€Î¹ÎºÏÎ¬Ï„Î·ÏƒÎ±Î½!";
                borderColor = "#a04000";
                textColor = "#3e1f08";
            }

            gameArea.innerHTML = `
                <div class="question-box" style="border: 4px solid ${borderColor}; padding: 15px; background: var(--box-bg);">
                    <h1 style="color: ${textColor}; font-size: 2em; border: none; line-height: 1.2; margin-bottom: 5px;">${winnerText}</h1>
                    <h2 style="color: #4a2e1b; margin-top: 10px;">Î¤ÎµÎ»Î¹ÎºÏŒ Î£ÎºÎ¿Ï</h2>
                    <p style="font-size: 1.5em; font-weight: bold; font-family: 'Cinzel', serif; margin-top: 5px;">
                        <span style="color: var(--west-color);">Î”ÏÏƒÎ·: ${scoreWest}</span> 
                        &nbsp;&nbsp;|&nbsp;&nbsp; 
                        <span style="color: #5a2673;">Î’Ï…Î¶Î¬Î½Ï„Î¹Î¿: ${scoreEast}</span>
                    </p>
                </div>
                <button class="menu-btn" onclick="showMenu()">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>
            `;

            let duration = 4 * 1000;
            let end = Date.now() + duration;

            (function frame() {
                confetti({ particleCount: 7, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#2c3e50', '#d68910', '#922b21'] });
                confetti({ particleCount: 7, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#5a2673', '#d68910', '#21618c'] });
                if (Date.now() < end) { requestAnimationFrame(frame); }
            }());
        }
    </script>
</body>
</html>